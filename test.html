<!doctype html>
<html>
<head>
<title>WASM Test</title>
<style>
// * { margin: 0; padding: 0; }
html, body { width: 100%; height: 100%; }
canvas { display: block; }
#the-canvas {
	border: 1px solid #000;
}
</style>

<script type="module">
	function get_string(ptr, len) {
		const mem = new Uint8Array(window.wasm.exports.memory.buffer);
		const data = mem.slice(ptr).slice(0, len);
		const str = new TextDecoder('utf-8').decode(data);
		return str;
	}
	const imports = {
		env: {
			print: function() {
				console.log("Hellope!");
			},
			print2: function(i) {
				console.log("Goodbye!", i);
			},
		},
	};

	var module_buffer = new Uint8Array([0x0,0x61,0x73,0x6d,0x1,0x0,0x0,0x0,0x1,0x8,0x2,0x60,0x0,0x0,0x60,0x1,0x7f,0x0,0x2,0x1a,0x2,0x3,0x65,0x6e,0x76,0x5,0x70,0x72,0x69,0x6e,0x74,0x0,0x0,0x3,0x65,0x6e,0x76,0x6,0x70,0x72,0x69,0x6e,0x74,0x32,0x0,0x1,0x3,0x2,0x1,0x0,0x5,0x3,0x1,0x0,0x2,0x6,0x1c,0x4,0x7f,0x0,0x41,0x80,0x80,0x4,0xb,0x7f,0x0,0x41,0x80,0x8,0xb,0x7f,0x0,0x41,0x80,0x80,0x4,0xb,0x7f,0x0,0x41,0x80,0x80,0x4,0xb,0x7,0x2c,0x4,0x4,0x6d,0x61,0x69,0x6e,0x0,0x2,0x6,0x6d,0x65,0x6d,0x6f,0x72,0x79,0x2,0x0,0xb,0x5f,0x5f,0x68,0x65,0x61,0x70,0x5f,0x62,0x61,0x73,0x65,0x3,0x0,0xa,0x5f,0x5f,0x64,0x61,0x74,0x61,0x5f,0x65,0x6e,0x64,0x3,0x1,0xa,0xf,0x1,0xd,0x0,0x10,0x0,0x41,0xd2,0x9,0x10,0x1,0x10,0x0,0x10,0x0,0xb,0xb,0x1,0x0]);
	const module = new WebAssembly.Module(module_buffer);
	window.wasm = new WebAssembly.Instance(module, imports);

	const linear_memory = window.wasm.memory;

	window.wasm.exports.main();

</script>
</head>
<body>
</body></html>